{% load templatetags %}{% load static %}



<!-- inicio__r4010_idepgto__r4010_evtretpf -->
<script type="text/javascript">
  $(document).ready(function(){
   $('#id_r4010_evtretpf').change(function(){
       document.getElementById("r4010_idepgto__r4010_evtretpf__div_acessar").style.display = 'none';
   });
  });
</script>
<div class="col-md-12" id="r4010_idepgto__r4010_evtretpf__div">
  <div class="form-group">
    <label id="r4010_idepgto__r4010_evtretpf__label">Identificação do rendimento*<a data-toggle="tooltip" title="Identificação do rendimento."><i class="fa fa-fw fa-question-circle"></i></a></label>
    {% if not for_print %}
      {% if r4010_idepgto_form.r4010_evtretpf.value %}
        <a id="r4010_idepgto__r4010_evtretpf__div_acessar" href="{% url 'r4010_evtretpf_salvar' pk=r4010_idepgto_form.r4010_evtretpf.value %}">
          [Acessar]
        </a>
      {% endif %}
    {% endif %}
    {% if r4010_idepgto_form.r4010_evtretpf.errors %}
      <div class="alert alert-error" style="margin-bottom: 0!important;width:100%">
        {{ r4010_idepgto_form.r4010_evtretpf.errors }}
      </div>
    {% endif %}
    {% if r4010_idepgto_form.r4010_evtretpf.field.widget.attrs.readonly %}
      {% if r4010_idepgto_form.r4010_evtretpf.field.widget.attrs.disabled %}
        {{ r4010_idepgto_form.r4010_evtretpf|addcss:'form-control' }}
        <input id="id_r4010_evtretpf" name="r4010_evtretpf" type="hidden" value="{% if r4010_idepgto_form.r4010_evtretpf.value or r4010_idepgto_form.r4010_evtretpf.value == 0 %}{{ r4010_idepgto_form.r4010_evtretpf.value|valor }}{% endif %}">
      {% else %}
        {{ r4010_idepgto_form.r4010_evtretpf|addcss:'form-control' }}
      {% endif %}
    {% else %}
      {{ r4010_idepgto_form.r4010_evtretpf|addcss_select2:'form-control automate-select' }}
    {% endif %}
  </div>
</div>
<!-- fim__r4010_idepgto__r4010_evtretpf -->
<!-- inicio__r4010_idepgto__natrend -->
{% if perms..add_ or perms..change_ %}
  <div class="col-md-3" id="r4010_idepgto__natrend__div">
    <div class="form-group">
      <label id="r4010_idepgto__natrend__label">Código da natureza do rendimento, conforme Tabela 01*<a data-toggle="tooltip" title="Código da natureza do rendimento, conforme Tabela 01. Validação: Deve ser um código válido, existente na Tabela 01."><i class="fa fa-fw fa-question-circle"></i></a></label>
        {% if r4010_idepgto_form.natrend.errors %}
          <div class="alert alert-error" style="margin-bottom: 0!important;width:100%">
            {{ r4010_idepgto_form.natrend.errors }}
          </div>
        {% endif %}
        <input type="text"
               id="txt_natrend"
               name="txt_natrend" class="form-control"
               value="{% if r4010_idepgto.natrend %}{{ r4010_idepgto.natrend|get_opcoes_titulo:714 }}{% endif %}"
               {% if r4010_idepgto_form.natrend.field.widget.attrs.readonly %} readonly="readonly"{% endif %}
               {% if r4010_idepgto_form.natrend.field.widget.attrs.required %} required="required"{% endif %}
               {% if r4010_idepgto_form.natrend.field.widget.attrs.disabled %} disabled="disabled"{% endif %} >
        <input type="hidden"
               id="id_natrend"
               name="natrend"
               value="{% if r4010_idepgto.natrend %}{{ r4010_idepgto_form.natrend.value|valor }}{% endif %}" >
    </div>
  </div>
  <script type="text/javascript">
  $(document).ready(function(e){
    $('#txt_natrend').autocomplete({
      source: function (request, response) {
        $.getJSON("{{ LINK_WEBSITE }}tabelas/opcoes/json-search/714/" + request.term + "/", function (data) {
          response($.map(data.opcoes, function (value, key) {
            return {
              label: value.value,
              value: value.key
            };
          }));
        });
      },
      minLength: 3,
      select: function( e, ui ) {
        e.preventDefault(e);
        $(this).val(ui.item.label);
        $('#id_natrend').val(ui.item.value);
        return false;
      }});
    {% if r4010_idepgto_form.natrend.field.widget.attrs.required %}
    $("#id_form_r4010_idepgto").submit(function(e) {
      $('#txt_natrend').disabled = true;
        if ($('#id_natrend').val() == "") {
          $('#txt_natrend').val("");
          alert('Formulário não pode ser salvo sem selecionar o(a) campo Código da natureza do rendimento, conforme Tabela 01!');
          e.preventDefault(e);
      };
    });
    {% endif %}
  });
  </script>
  {% else %}
  <div class="col-md-3" id="r4010_idepgto__natrend__div">
    <div class="form-group">
      <label id="r4010_idepgto__natrend__label">Código da natureza do rendimento, conforme Tabela 01*<a data-toggle="tooltip" title="Código da natureza do rendimento, conforme Tabela 01. Validação: Deve ser um código válido, existente na Tabela 01."><i class="fa fa-fw fa-question-circle"></i></a></label>
        <input type="text" id="txt_natrend" name="txt_natrend" class="form-control" value="{% if r4010_idepgto.natrend %}{{ r4010_idepgto.natrend }}{% endif %}" disabled="disabled">
    </div>
  </div>
{% endif %}
<!-- fim__r4010_idepgto__natrend -->
<!-- inicio__r4010_idepgto__paisresid -->
{% if perms..add_ or perms..change_ %}
  <div class="col-md-3" id="r4010_idepgto__paisresid__div">
    <div class="form-group">
      <label id="r4010_idepgto__paisresid__label">Preencher com o código do país de residência fiscal, conforme tabela 7*<a data-toggle="tooltip" title="Preencher com o código do país de residência fiscal, conforme Tabela 07. Validação: Deve ser um código existente na Tabela 07. Deve estar de acordo com as regras de validação da Tabela 01 para a natureza de rendimento informada em {natRend}."><i class="fa fa-fw fa-question-circle"></i></a></label>
        {% if r4010_idepgto_form.paisresid.errors %}
          <div class="alert alert-error" style="margin-bottom: 0!important;width:100%">
            {{ r4010_idepgto_form.paisresid.errors }}
          </div>
        {% endif %}
        <input type="text"
               id="txt_paisresid"
               name="txt_paisresid" class="form-control"
               value="{% if r4010_idepgto.paisresid %}{{ r4010_idepgto.paisresid|get_opcoes_titulo:670 }}{% endif %}"
               {% if r4010_idepgto_form.paisresid.field.widget.attrs.readonly %} readonly="readonly"{% endif %}
               {% if r4010_idepgto_form.paisresid.field.widget.attrs.required %} required="required"{% endif %}
               {% if r4010_idepgto_form.paisresid.field.widget.attrs.disabled %} disabled="disabled"{% endif %} >
        <input type="hidden"
               id="id_paisresid"
               name="paisresid"
               value="{% if r4010_idepgto.paisresid %}{{ r4010_idepgto_form.paisresid.value|valor }}{% endif %}" >
    </div>
  </div>
  <script type="text/javascript">
  $(document).ready(function(e){
    $('#txt_paisresid').autocomplete({
      source: function (request, response) {
        $.getJSON("{{ LINK_WEBSITE }}tabelas/opcoes/json-search/670/" + request.term + "/", function (data) {
          response($.map(data.opcoes, function (value, key) {
            return {
              label: value.value,
              value: value.key
            };
          }));
        });
      },
      minLength: 3,
      select: function( e, ui ) {
        e.preventDefault(e);
        $(this).val(ui.item.label);
        $('#id_paisresid').val(ui.item.value);
        return false;
      }});
    {% if r4010_idepgto_form.paisresid.field.widget.attrs.required %}
    $("#id_form_r4010_idepgto").submit(function(e) {
      $('#txt_paisresid').disabled = true;
        if ($('#id_paisresid').val() == "") {
          $('#txt_paisresid').val("");
          alert('Formulário não pode ser salvo sem selecionar o(a) campo Preencher com o código do país de residência fiscal, conforme tabela 7!');
          e.preventDefault(e);
      };
    });
    {% endif %}
  });
  </script>
  {% else %}
  <div class="col-md-3" id="r4010_idepgto__paisresid__div">
    <div class="form-group">
      <label id="r4010_idepgto__paisresid__label">Preencher com o código do país de residência fiscal, conforme tabela 7*<a data-toggle="tooltip" title="Preencher com o código do país de residência fiscal, conforme Tabela 07. Validação: Deve ser um código existente na Tabela 07. Deve estar de acordo com as regras de validação da Tabela 01 para a natureza de rendimento informada em {natRend}."><i class="fa fa-fw fa-question-circle"></i></a></label>
        <input type="text" id="txt_paisresid" name="txt_paisresid" class="form-control" value="{% if r4010_idepgto.paisresid %}{{ r4010_idepgto.paisresid }}{% endif %}" disabled="disabled">
    </div>
  </div>
{% endif %}
<!-- fim__r4010_idepgto__paisresid -->
<!-- inicio__r4010_idepgto__observ -->
<div class="col-md-3" id="r4010_idepgto__observ__div">
  <div class="form-group">
    <label id="r4010_idepgto__observ__label">Observações<a data-toggle="tooltip" title="Observações."><i class="fa fa-fw fa-question-circle"></i></a></label>
      {% if r4010_idepgto_form.observ.errors %}
        <div class="alert alert-error" style="margin-bottom: 0!important;width:100%">
          {{ r4010_idepgto_form.observ.errors }}
        </div>
      {% endif %}
    <div class="input-group" style="width: 100%;">
      {{ r4010_idepgto_form.observ|addcss:'form-control' }}
    </div>
  </div>
</div>
<!-- fim__r4010_idepgto__observ -->