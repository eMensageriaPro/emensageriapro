{% extends 'base.html' %}{% load templatetags %}{% block content %}<section class="content-header"><h1>S-1080 - Tabela de Operadores Portuários<small>Cadastrar/Editar</small></h1><ol class="breadcrumb"><li><a href="#"><i class="fa fa-dashboard"></i>Home</a></li><li><a href="#">S-1080 - Tabela de Operadores Portuários</a></li><li class="active">Cadastrar/Editar</li></ol></section>{% if not for_print %}<section class="content"><div class="row"><div class="col-xs-12"><div class="nav-tabs-custom"><ul class="nav nav-tabs">{% if dict_permissoes|get_permissao:'s1080_evttaboperport_visualizar' %}<li {% if not tab %}class="active"{% endif %}><a href="{% url 's1080_evttaboperport_salvar' hash='{}'|json_return_page:'s1080_evttaboperport_salvar'|json_return_hash:hash|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}">S-1080 - Tabela de Operadores Portuários</a></li>{% endif %}{% if s1080_evttaboperport_id %}{% if s1080_evttaboperport.operacao == 1 %}{% if dict_permissoes|get_permissao:'s1080_inclusao_visualizar' %}<li {% if tab == 's1080_inclusao' %}class="active"{% endif %}><a href="{% url 's1080_evttaboperport_salvar' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|json_tab:'s1080_inclusao'|base64_encode_me %}">S-1080 - Inclusão de novas informações</a></li>{% endif %}{% endif %}{% if s1080_evttaboperport.operacao == 2 %}{% if dict_permissoes|get_permissao:'s1080_alteracao_visualizar' %}<li {% if tab == 's1080_alteracao' %}class="active"{% endif %}><a href="{% url 's1080_evttaboperport_salvar' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|json_tab:'s1080_alteracao'|base64_encode_me %}">S-1080 - Alteração das informações</a></li>{% endif %}{% endif %}{% if s1080_evttaboperport.operacao == 3 %}{% if dict_permissoes|get_permissao:'s1080_exclusao_visualizar' %}<li {% if tab == 's1080_exclusao' %}class="active"{% endif %}><a href="{% url 's1080_evttaboperport_salvar' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|json_tab:'s1080_exclusao'|base64_encode_me %}">S-1080 - Exclusão das informações</a></li>{% endif %}{% endif %}{% endif %}</ul></div></div></div>{% else %}<section class="invoice">{% endif %} {% if not for_print %} {% if messages %}<div class="row"><div class="pad margin no-print">{% for message in messages %}<div class="alert alert-{{ message.tags }}" style="margin-bottom: 0!important;">{{ message }}</div>{% endfor %}</div></div>{% endif %} {% if s1080_evttaboperport_id %} {% if s1080_evttaboperport.ocorrencias %}<div class="row"><div class="col-xs-12"><div class="small-box bg-red"><div class="inner"><strong>OCORRÊNCIAS REPORTADAS:</strong><br><p>{% autoescape off %}{{ s1080_evttaboperport.ocorrencias|lista_json_table_esocial }}{% endautoescape %}</p></div></div></div></div>{% endif %} {% if s1080_evttaboperport.status %} {% if not s1080_evttaboperport.validacao_precedencia %}<div class="row"><div class="col-xs-12"><div class="small-box bg-yellow"><div class="inner"><p>O evento não pode ser enviado pois está aguardando confirmação de recebimento de sua precedência!</p></div></div></div></div>{% endif %} {% if s1080_evttaboperport.validacoes %}<div class="row"><div class="col-xs-12"><div class="small-box bg-red"><div class="inner"><strong>Erros de validação:</strong><br><p>{% autoescape off %}{{ s1080_evttaboperport.validacoes }}{% endautoescape %}</p></div></div></div></div>{% endif %} {% endif %} {% endif %} {% endif %} {% if not tab %}<div class="row"><div class="col-md-12">{% if not for_print %}<div class="box box-primary"><div class="box-header with-border"><h3 class="box-title">Cadastrar/Editar S-1080 - Tabela de Operadores Portuários</h3></div>{% else %}<div class="row">{% endif %} {% if not for_print %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_editar' or dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %}<form action="#" id="id_form_s1080_evttaboperport" method="POST" content="text/html; charset=UTF-8">{% csrf_token %} {% endif %} {% endif %}<div class="box-body"><div class="row">{% include 'forms/s1080_evttaboperport.html' %}</div></div>{% if not for_print %}<div class="row"><div class="form-group col-md-4"><div class="box-footer text-left"><font color="red">* Campos Obrigatórios.</font></div></div><div class="form-group col-md-8"><div class="box-footer text-right"><!-- botões especiais -->{% if s1080_evttaboperport_id %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %}<a href="{% url 's1080_evttaboperport_verificar' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}" target="_blank"><span class="btn btn-primary"><i class="fa fa-check-square-o"></i>&nbsp;Verificar Layout</span></a>&nbsp;{% endif %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %} {% if not evento_totalizador %}<div class="btn-group"><button type="button" class="btn btn-primary"><i class="fa fa-download"></i>&nbsp;Exportar Recibo</button><button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span><span class="sr-only">Exportar Recibo</span></button><ul class="dropdown-menu" role="menu"><li class="text-left"><a href="{% url 's1080_evttaboperport_recibo' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me tipo='PDF' %}" target="_blank"><i class="fa fa-file-pdf-o"></i>&nbsp;PDF</a></li><li class="text-left"><a href="{% url 's1080_evttaboperport_recibo' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me tipo='XLS' %}" target="_blank"><i class="fa fa-file-excel-o"></i>&nbsp;XLS</a></li><li class="text-left"><a href="{% url 's1080_evttaboperport_recibo' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me tipo='CSV' %}" target="_blank"><i class="fa fa-file-text-o"></i>&nbsp;CSV</a></li></ul></div>&nbsp; {% endif %} {% endif %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %} {% if not evento_totalizador %}<div class="btn-group"><button type="button" class="btn btn-primary"><i class="fa fa-cogs"></i>&nbsp;Ações</button><button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span><span class="sr-only">Ações</span></button><ul class="dropdown-menu" role="menu"><li class="text-left"><a href="{% url 's1080_evttaboperport_duplicar' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}">Duplicar Evento</a></li>{% if s1080_evttaboperport.operacao == 1 or s1080_evttaboperport.operacao == 2 %}<li class="text-left"><a href="{% url 's1080_evttaboperport_criar_alteracao' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}">Criar evento de Alteração</a></li><li class="text-left"><a href="{% url 's1080_evttaboperport_criar_exclusao' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}">Criar evento de Exclusão</a></li>{% endif %}<li class="text-left"><a href="{% url 's1080_evttaboperport_alterar_identidade' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}">Alterar Identidade do Evento</a></li><li class="text-left"><a href="{% url 's1080_evttaboperport_abrir_evento_para_edicao' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}">Abrir evento para edição</a></li></ul></div>&nbsp; {% endif %} {% endif %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %}<a href="{% url 's1080_evttaboperport_xml' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}" target="_blank"><span class="btn btn-primary"><i class="fa fa-code"></i>&nbsp;Visualizar XML</span></a>&nbsp;{% endif %} {% if s1080_evttaboperport.status == 0 or s1080_evttaboperport.status == 1 or s1080_evttaboperport.status == 2 or s1080_evttaboperport.status == 11 or s1080_evttaboperport.status == 10 or s1080_evttaboperport.status == 3 %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %}<a href="{% url 's1080_evttaboperport_validar_evento' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}" ><span class="btn btn-success"><i class="fa fa-thumbs-o-up"></i>&nbsp;Validar</span></a>&nbsp;{% endif %} {% endif %}<br><br>{% if dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %}<a href="{% url 's1080_evttaboperport_salvar' hash='{}'|json_id:0|json_print:0|base64_encode_me %}"><span class="btn btn-info"><i class="fa fa-plus-circle"></i>&nbsp;Cadastrar</span></a>&nbsp;{% endif %} {% endif %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_listar' or dict_permissoes|get_permissao:'s1080_evttaboperport_listar' %}<a href="{% url 's1080_evttaboperport' hash='{}'|json_id:0|json_print:0|base64_encode_me %}"><span class="btn btn-primary"><i class="fa fa-list"></i>&nbsp;Listagem</span></a>&nbsp;{% endif %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_visualizar' and s1080_evttaboperport_id %}<a href="{% url 's1080_evttaboperport_salvar' hash='{}'|json_id:s1080_evttaboperport_id|json_print:1|base64_encode_me %}" target="_blank"><span class="btn btn-primary"><i class="fa fa-print"></i>&nbsp;Imprimir</span></a>&nbsp;{% endif %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_editar' or dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %}<button type="submit" class="btn btn-primary" ><i class="fa fa-save"></i>&nbsp;Salvar</button>&nbsp;{% endif %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_apagar' and s1080_evttaboperport_id %}<a href="{% url 's1080_evttaboperport_apagar' hash='{}'|json_id:s1080_evttaboperport_id|json_print:0|base64_encode_me %}"><span class="btn btn-danger"><i class="fa fa-remove"></i>&nbsp;Apagar</span></a>&nbsp;{% endif %}<a class="btn btn-default" href="#" onclick="history.go(-1)"><i class="fa fa-rotate-left"></i>&nbsp;Voltar</a></div></div></div>{% endif %} {% if not for_print %} {% if dict_permissoes|get_permissao:'s1080_evttaboperport_editar' or dict_permissoes|get_permissao:'s1080_evttaboperport_cadastrar' %}</form>{% endif %} {% endif %}</div>{% if s1080_evttaboperport_id %}<!-- inicio controle de alterações --><div class="row"><div class="col-md-12"><div class="box box-primary collapsed-box"><div class="box-header with-border"><h3 class="box-title">Controle de Alterações</h3><div class="pull-right box-tools"><button type="button" class="btn btn-default btn-sm" data-widget="collapse"><i class="fa fa-minus"></i></button></div></div><div class="box-body"><table class="table table-bordered table-striped automate-data-table"><thead><tr><th>Data</th><th>Situação Anterior</th><th>Situação Posterior</th><th>Modificado por</th></tr></thead><tbody>{% for c in controle_alteracoes %}<tr><td>{{ c.criado_em }}</td><td>{% autoescape off %}{{ c.situacao_anterior|auditoria_json }}{% endautoescape %}</td><td>{% autoescape off %}{{ c.situacao_posterior|auditoria_json }}{% endautoescape %}</td><td>{{ c.modificado_por }}</td></tr>{% endfor %}</tbody></table></div></div></div></div><!-- fim controle de alterações -->{% endif %}</div></div></div></div>{% endif %}<!-- ANTES-FORMULARIO_TABELA_SECUNDARIA -->{% if s1080_evttaboperport_id %}<!-- begin_S-1080 - Inclusão de novas informações -->{% if tab == 's1080_inclusao' or for_print %} {% if dict_permissoes|get_permissao:'s1080_inclusao_visualizar' %} {% if dict_permissoes|get_permissao:'s1080_inclusao_editar' or dict_permissoes|get_permissao:'s1080_inclusao_cadastrar' %}<script type="text/javascript">function CadastroListagem() { var display = document.getElementById('cadastrar').style.display; if (display == "none") { document.getElementById('cadastrar').style.display = 'block'; document.getElementById('listar').style.display = 'none'; document.getElementById('CadastrarBotao').style.display = 'none'; document.getElementById('ListarBotao').style.display = 'block'; } else { document.getElementById('cadastrar').style.display = 'none'; document.getElementById('listar').style.display = 'block'; document.getElementById('CadastrarBotao').style.display = 'block'; document.getElementById('ListarBotao').style.display = 'none'; } }</script>{% endif %}<div class="row"><div class="col-xs-12"><div class="box"><div class="box-header with-border"><h3 class="box-title">S-1080 - Inclusão de novas informações</h3><div class="pull-right box-tools">{% if dict_permissoes|get_permissao:'s1080_inclusao_editar' or dict_permissoes|get_permissao:'s1080_inclusao_cadastrar' %}<button class="btn btn-info pull-right" onclick="CadastroListagem()"><div id="CadastrarBotao"><i class="fa fa-plus-circle"></i>Cadastrar</div><div id="ListarBotao" style="display:none"><i class="fa fa-table"></i>Listar</div></button>{% endif %}</div></div><div class="box-body" >{% if dict_permissoes|get_permissao:'s1080_inclusao_cadastrar' %}<!-- begin_form_s1080_inclusao --><div id="cadastrar" style="display:none"><form id="id_form_s1080_inclusao" action="{% url 's1080_inclusao_salvar' hash='{}'|json_id:0|json_print:0|base64_encode_me %}" method="POST">{% csrf_token %}<div class="row">{% include 'forms/s1080_inclusao.html' %}</div><div class="row"><div class="form-group col-md-6"><div class="box-footer text-left"><font color="red">* Campos Obrigatórios.</font></div></div><div class="form-group col-md-6"><div class="box-footer text-right"><button type="submit" class="btn btn-primary"><i class="fa fa-save"></i>Salvar</button></div></div></div></form></div><!-- end_form_s1080_inclusao -->{% endif %}<div id="listar"><!-- begin_table_s1080_inclusao -->{% include 'tables/s1080_inclusao.html' %}<!-- end_table_s1080_inclusao --></div></div></div></div></div>{% endif %} {% endif %}<!-- end_S-1080 - Inclusão de novas informações --><!-- begin_S-1080 - Alteração das informações -->{% if tab == 's1080_alteracao' or for_print %} {% if dict_permissoes|get_permissao:'s1080_alteracao_visualizar' %} {% if dict_permissoes|get_permissao:'s1080_alteracao_editar' or dict_permissoes|get_permissao:'s1080_alteracao_cadastrar' %}<script type="text/javascript">function CadastroListagem() { var display = document.getElementById('cadastrar').style.display; if (display == "none") { document.getElementById('cadastrar').style.display = 'block'; document.getElementById('listar').style.display = 'none'; document.getElementById('CadastrarBotao').style.display = 'none'; document.getElementById('ListarBotao').style.display = 'block'; } else { document.getElementById('cadastrar').style.display = 'none'; document.getElementById('listar').style.display = 'block'; document.getElementById('CadastrarBotao').style.display = 'block'; document.getElementById('ListarBotao').style.display = 'none'; } }</script>{% endif %}<div class="row"><div class="col-xs-12"><div class="box"><div class="box-header with-border"><h3 class="box-title">S-1080 - Alteração das informações</h3><div class="pull-right box-tools">{% if dict_permissoes|get_permissao:'s1080_alteracao_editar' or dict_permissoes|get_permissao:'s1080_alteracao_cadastrar' %}<button class="btn btn-info pull-right" onclick="CadastroListagem()"><div id="CadastrarBotao"><i class="fa fa-plus-circle"></i>Cadastrar</div><div id="ListarBotao" style="display:none"><i class="fa fa-table"></i>Listar</div></button>{% endif %}</div></div><div class="box-body" >{% if dict_permissoes|get_permissao:'s1080_alteracao_cadastrar' %}<!-- begin_form_s1080_alteracao --><div id="cadastrar" style="display:none"><form id="id_form_s1080_alteracao" action="{% url 's1080_alteracao_salvar' hash='{}'|json_id:0|json_print:0|base64_encode_me %}" method="POST">{% csrf_token %}<div class="row">{% include 'forms/s1080_alteracao.html' %}</div><div class="row"><div class="form-group col-md-6"><div class="box-footer text-left"><font color="red">* Campos Obrigatórios.</font></div></div><div class="form-group col-md-6"><div class="box-footer text-right"><button type="submit" class="btn btn-primary"><i class="fa fa-save"></i>Salvar</button></div></div></div></form></div><!-- end_form_s1080_alteracao -->{% endif %}<div id="listar"><!-- begin_table_s1080_alteracao -->{% include 'tables/s1080_alteracao.html' %}<!-- end_table_s1080_alteracao --></div></div></div></div></div>{% endif %} {% endif %}<!-- end_S-1080 - Alteração das informações --><!-- begin_S-1080 - Exclusão das informações -->{% if tab == 's1080_exclusao' or for_print %} {% if dict_permissoes|get_permissao:'s1080_exclusao_visualizar' %} {% if dict_permissoes|get_permissao:'s1080_exclusao_editar' or dict_permissoes|get_permissao:'s1080_exclusao_cadastrar' %}<script type="text/javascript">function CadastroListagem() { var display = document.getElementById('cadastrar').style.display; if (display == "none") { document.getElementById('cadastrar').style.display = 'block'; document.getElementById('listar').style.display = 'none'; document.getElementById('CadastrarBotao').style.display = 'none'; document.getElementById('ListarBotao').style.display = 'block'; } else { document.getElementById('cadastrar').style.display = 'none'; document.getElementById('listar').style.display = 'block'; document.getElementById('CadastrarBotao').style.display = 'block'; document.getElementById('ListarBotao').style.display = 'none'; } }</script>{% endif %}<div class="row"><div class="col-xs-12"><div class="box"><div class="box-header with-border"><h3 class="box-title">S-1080 - Exclusão das informações</h3><div class="pull-right box-tools">{% if dict_permissoes|get_permissao:'s1080_exclusao_editar' or dict_permissoes|get_permissao:'s1080_exclusao_cadastrar' %}<button class="btn btn-info pull-right" onclick="CadastroListagem()"><div id="CadastrarBotao"><i class="fa fa-plus-circle"></i>Cadastrar</div><div id="ListarBotao" style="display:none"><i class="fa fa-table"></i>Listar</div></button>{% endif %}</div></div><div class="box-body" >{% if dict_permissoes|get_permissao:'s1080_exclusao_cadastrar' %}<!-- begin_form_s1080_exclusao --><div id="cadastrar" style="display:none"><form id="id_form_s1080_exclusao" action="{% url 's1080_exclusao_salvar' hash='{}'|json_id:0|json_print:0|base64_encode_me %}" method="POST">{% csrf_token %}<div class="row">{% include 'forms/s1080_exclusao.html' %}</div><div class="row"><div class="form-group col-md-6"><div class="box-footer text-left"><font color="red">* Campos Obrigatórios.</font></div></div><div class="form-group col-md-6"><div class="box-footer text-right"><button type="submit" class="btn btn-primary"><i class="fa fa-save"></i>Salvar</button></div></div></div></form></div><!-- end_form_s1080_exclusao -->{% endif %}<div id="listar"><!-- begin_table_s1080_exclusao -->{% include 'tables/s1080_exclusao.html' %}<!-- end_table_s1080_exclusao --></div></div></div></div></div>{% endif %} {% endif %}<!-- end_S-1080 - Exclusão das informações -->{% endif %}</section><!-- script --><!--- javascript -->{% endblock content %}